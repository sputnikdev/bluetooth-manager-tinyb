language: java
before_install:
    - mvn validate
script: mvn test -P !build-extras -B
notifications:
  slack: kolotov:69j2qLZ0paybeuQMcKfyN2gP
before_deploy: git checkout master
after_success:
  - mvn clean cobertura:cobertura coveralls:report
  - .travis/before-deploy.sh
  - .travis/deploy.sh
env:
  global:
  # OSSRH_JIRA_USERNAME
  - secure: "nu1jv5WXNGqFEn/f4llGa+hVd55LOaSu4gIFJaoUN8CBS6EvQI0O8TryOevBRE1c4f4InJY4QvFlfqXr6222Sb8RH1sNg6FXN8HNJfAlahO+sZlwJB2l4EwWPlPG7TnbHV6sa+qPZWMIn5wfbrilvuBWdORvFIkpOdbKgzpPFsoQaVBapoQ2DbptbH+nOTG/0udBswbHzMudFRcUnS2f6Jeu8izC4NhZvjul+2ATPDaA5bLlETnNkpBqUMOHZFh52uB/8ajhelvNDwBUw4NkBQE11WqKd3OPQSpprbvKFlS5QhK4PzRCllM8NIfSef1dx0E1Za65mehKb5yfgIvCC4gfdgbfzAymexhMVlKjTlk/4W4kuGrkdPX2dL+G1B8vVd7IxjtUo1QQ1qHhjF9SieJvIawY+L++Uykghf/2b2nDFGEGYt4GuIVHCoWdqzcumopDMOSp90nQKkLoLdUQPX5q87SifNFOf3jTYHalROAJmpJGtlhTsp3lVHBudUleKaRATZUFWwlwUExlS9DTSTxzjAEL2gAFIjsLDleL70MWCnyz4n28fMI3lePVVY6WD6+K98N0+dAYm9iEfba0PrSR0rTMsH3YkLj7/OV4nQruAymuuSjAkJaJjN0aMQsn9MFhszxIc5YlBdJqBGRS3Ac2zESS65qOYw3+3TaX0b8="
  # OSSRH_JIRA_PASSWORD
  - secure: "T8e5GNwDWfJQgXSja11Uf/LZ5OwN8pNvUNUcQrSWsyOniX4D06+KgjDk18TREYvaxY0o3MUYhrt1KMAPUUDdNkpq1zWkpT94hDNoPFvWlV+AtYgrP0A4R7zJSsZsJCYL5oMR4EoJSVy4WAsfneZmP7fFzD1iCn+ZtugNiQulKKCh9Dt+I751uYSoumXC3cXnjyxXRPZrKAjQFHN5Qd5NAWnn3Ya9nqMWTglDyUlTpATXBVPsq35BgAZPUBuy7ftssjkH9D1OTlb2IE2xBrK9RJnTQRh/CKIUq5Ykj1oPaK4hU5ghY3jAFp4O+JjEhLx1UgvGnz1lDcKvFhOJWKgSd8mEvatizWTztLY+Y1eDTqXvpFKeCjspetYw2gq6edUvllf2BoIVk9Gajv90er3i7gBPmjD92FKqdyq9HONFjVt6FEDCrHfVBZ6WVTwDnyXwL0lK1FPjGjHG4dvBbaoYz6eUix/XlrZJItIymLghj5KxaKbGVwVcUWwY6QPWeM+39Q6v2TpOakm7Z5kD8WqBJjJvWARJ9OpM0JvSoYzupwDmw8x3TEyyxXQ/NPgOLDLzxzqO/UeT0DdvPVz1X0FNKkilSr1APrrhWdlaHCqCN35paRSvLdHbIlsI+RpfE6vBboqCfnm6j6pAnS2FYu5K+vlLjJnbPjGaTR19qkqfJuY="
  # GPG_KEY_NAME
  - secure: "QWBo1vKT8Em3QWvWvK4odq8R1GV2litnpNmMY7hw6LREnBtHgl4Ivd0DFEtyycHH/Ipx91Why/AbF5wxiUVaBdypf5uyKf/peWRs+eWfMG4oR/PVMsV4fixIwOakol1LZgVZBW6AHXIwvH/LBYiPWNJLoOCFPZKuyxzxmuBjWiM4lA1mccK1UtHYd3UHiJHSlsk94GNn/BPRZwwQy0zsJZDoY+O5TSfefIYlCCIAjdo38raKQX+b6NLZtgrSjl6FmL4x8h43eU3pgfB+6pf/okwkZtzNQ9ibMZ75vYroF4vIeziO0VFyBrwXLjxRtufxqtLmHbr5Q8jycNFrhViHxSiEjdk8hequgp3B5t8hVp5fcxrtItBZqG0TMBNpWCkH9rCXsWNe7Ng87dT/06iBF1XukHt/a0zM2JclYgumeQoYFtZ9zbN1dvixDXY87KQj0Qxri964scVKWk+qe1ScgJIBxt8WgPNWa0JjA3lFPf3GT569gn94fbw7lOSTgBTTEbSRW3XM3kor01Zdg3eJ6LKhI/aCUeOlWRBX1cERPUy/E/IfDixBBM0CfvsG/lqiB278pXieDDJRH1TpfeqrD1DCUKNo9qIcWtRcUvhH7cUY6oPaU+GS04P3pXu9b0wSyLA535Jx5S5SHl3xXzS59wVxj/V61OlH+jy/R8Kv1Vk="
  # GPG_PASSPHRASE
  - secure: "iB7c5K//jLpln/vwN3lPTd6nmMZF1DRUf1LpQizE36Q07+I1UlCofApaRPyfcoKRYnflRUnr5t8/a1c2aA4jhRolSu1SiNoUzLtdxuJ6nZwR/8sAONTsjMWoP88RAvJ7TGeFy2bg+fM9EFqXiaMdYKXEcknUh1+BGCxXaA1z62KoIXBoY3W+QC0fY5vRITAmkYQx1f4226OlVL5dUdos9yp775FaQkTcMxLnO0zn/L63KxPV3D8LeZjdpPon0iiwRyAWTUefaWBtgNMkjyyMbG/RiiDc41gv2SlHS9QV78Scjd/9d9Qg/Egyuj7y0aZ1DeFXp6qvidodej41S3kKszZ7iQcAXf45FEXEkvx/zxNHF3iQaVPy1rR9kiPPvFugVN433Stxp2MObYf6G4sFnXgxi6vYXv51h9HElk2mhPBoswz/8Xmx2YnKOjk3SBqLV58uo9UNiXiizXmpElkGObwn4dzcM6InirB+GnxSVig9XVUHN1I98TYOKUAggLK/HCkkfO71BeF4lQ0GYUfd93d+6csfEbRIo4TD+aJfpLWfDLvFShmUfue+yOMtb8KoAkraee2IZKYTF01NXxcZGkffxp8q/WOsHcHWTJDnygeGoi1vfpUIZXTrdFgC+L1DAX5DhLg0qRxgp3MhEhzup01g3W9yL0K/T3gg8l9+kwQ="
install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V

cache:
  directories:
    - ~/.m2/repository